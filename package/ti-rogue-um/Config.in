comment "ti-rogue-um needs udev and a glibc toolchain w/ threads"
	depends on BR2_aarch64
	depends on !BR2_PACKAGE_HAS_UDEV || !BR2_TOOLCHAIN_USES_GLIBC \
		|| !BR2_TOOLCHAIN_HAS_THREADS

config BR2_PACKAGE_TI_ROGUE_UM
	bool "ti-rogue-um"
	depends on BR2_TOOLCHAIN_HAS_THREADS # libdrm
	depends on BR2_PACKAGE_HAS_UDEV
	# pre-built binaries
	depends on BR2_TOOLCHAIN_USES_GLIBC
	depends on BR2_aarch64
	select BR2_PACKAGE_LIBDRM
	select BR2_PACKAGE_HAS_LIBEGL
	select BR2_PACKAGE_HAS_LIBGBM
	select BR2_PACKAGE_LIBGBM_HAS_FEATURE_DMA_BUF
	select BR2_PACKAGE_HAS_LIBGLES
	select BR2_PACKAGE_HAS_POWERVR
	select BR2_PACKAGE_LIBFFI
	select BR2_PACKAGE_WAYLAND
	select BR2_PACKAGE_HAS_LIBEGL_WAYLAND
	select BR2_PACKAGE_TI_ROGUE_KM if BR2_LINUX_KERNEL
	help
	  Graphics libraries for TI SoCs with Rogue GPU.
	  This package supports AM62, J721E, J721S2, and J784S4
	  SoCs only.

	  https://git.ti.com/cgit/graphics/ti-img-rogue-umlibs

if BR2_PACKAGE_TI_ROGUE_UM

config BR2_PACKAGE_PROVIDES_LIBEGL
	default "ti-rogue-um"

config BR2_PACKAGE_PROVIDES_LIBGBM
	default "ti-rogue-um"

config BR2_PACKAGE_PROVIDES_LIBGLES
	default "ti-rogue-um"

config BR2_PACKAGE_PROVIDES_POWERVR
	default "ti-rogue-um"

config BR2_TARGET_TI_ROGUE_UM_TARGET_PRODUCT
	string "UM driver target product"
	default "am62_linux"
	help
	  Select target product to be used for UM libraries. This needs to
	  match one of the SoC-specific folders within the root/targetfs
	  folder of the ti-img-rogue-umlibs Git repository.

endif
